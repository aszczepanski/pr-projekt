
\subsection{Wersja 4}

Jest to rozszerzona wersja 3 o równoległe z obliczeniami pobranie kolejnych danych (na poziomie bloku). Ma to spowodować złagodzenie kosztów synchronizacji.

\subsubsection{Pobranie do rejestru}

\lstinputlisting[caption=Mnożenie macierzy kwadratowych na GPU -- wersja 4 z pobraniem do rejestru.]{./code/matrix_multiplication_4a.cpp}

\begin{table}[H]
\centering
\begin{tabular}{|c|c|}
\hline
\multirow{2}{*}{Rozmiar macierzy} & \multicolumn{1}{c|}{Rozmiar bloku} \\ \cline{2-2}
& 16x16 \\ \hline
64x64 & 0.02 \\ \hline
128x128 & 0.10 \\ \hline
256x256 & 0.60 \\ \hline
384x384 & 1.89 \\ \hline
512x512 & 4.44 \\ \hline
\end{tabular}
\caption{Czas obliczeń [ms] -- wersja 4.}
\end{table}

\subsubsection{Pobranie do pamięci współdzielonej}

\lstinputlisting[caption=Mnożenie macierzy kwadratowych na GPU -- wersja 4 z pobraniem do pamięci współdzielonej.]{./code/matrix_multiplication_4b.cpp}
