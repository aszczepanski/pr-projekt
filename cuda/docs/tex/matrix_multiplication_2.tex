
\subsection{Wersja 2}

W drugiej wersji wykorzystywany jest grid wieloblokowy o rozmiarze $$ \frac{\text{rozmiar macierzy}}{\text{rozmiar bloku}} $$
Każdy wątek oblicza jeden element macierzy wynikowej. Pamięć współdzielona nie jest wykorzystywana.

\lstinputlisting[caption=Mnożenie macierzy kwadratowych na GPU -- wersja 2.]{./code/matrix_multiplication_2.cpp}

\begin{table}[H]
\centering
\begin{tabular}{|c|c|c|c|}
\hline
\multirow{2}{*}{Rozmiar macierzy} & \multicolumn{3}{c|}{Rozmiar bloku} \\ \cline{2-4}
& 8x8 & 16x16 & 22x22 \\ \hline
176x176 & 1.466 & 1.381 & 2.552 \\ \hline
352x352 & 12.934 & 11.713 & 21.462 \\ \hline
528x528 & 38.574 & 36.721 & 66.967 \\ \hline
\end{tabular}
\caption{Czas obliczeń [ms] -- wersja 2.}
\end{table}

\subsubsection{Ilosc operacji zmiennoprzecinkowych na sekundę}

\begin{table}[H]
\centering
\begin{tabular}{|c|c|c|c|}
\hline
\multirow{2}{*}{Rozmiar macierzy} & \multicolumn{3}{c|}{Rozmiar bloku} \\ \cline{2-4}
& 8x8 & 16x16 & 22x22 \\ \hline
176x176 & 7.440 & 7.897 & 4.273 \\ \hline
352x352 & 6.744 & 7.447 & 4.064 \\ \hline
528x528 & 7.632 & 8.017 & 4.396 \\ \hline
\end{tabular}
\caption{Ilosc operacji zmiennoprzecinkowych na sekundę (GFLOPS) -- wersja 1.}
\end{table}

\subsubsection{Ilość instrukcji wykonana na sekundę}

\begin{table}[H]
\centering
\begin{tabular}{|c|c|c|c|}
\hline
\multirow{2}{*}{Rozmiar macierzy} & \multicolumn{3}{c|}{Rozmiar bloku} \\ \cline{2-4}
& 8x8 & 16x16 & 22x22 \\ \hline
176x176 & 0.07851 & 0.08334 & 0.04509 \\ \hline
352x352 & 0.07085 & 0.07776 & 0.04455 \\ \hline
528x528 & 0.08095 & 0.08248 & 0.04777 \\ \hline
\end{tabular}
\caption{Ilość instrukcji wykonana na sekundę (GIPS) -- wersja 1.}
\end{table}

\subsubsection{CGMA}

\begin{table}[H]
\centering
\begin{tabular}{|c|c|c|c|}
\hline
\multirow{2}{*}{Rozmiar macierzy} & \multicolumn{3}{c|}{Rozmiar bloku} \\ \cline{2-4}
& 8x8 & 16x16 & 22x22 \\ \hline
176x176 & 21.511 & 35.852 & 23.178 \\ \hline
352x352 & 21.422 & 32.538 & 21.322 \\ \hline
528x528 & 21.178 & 32.267 & 21.768 \\ \hline
\end{tabular}
\caption{Stosunek ilości operacji zmiennoprzecinkowych do ilości operacji odczytu/zapisu z pamięci globalnej -- wersja 1.}
\end{table}

